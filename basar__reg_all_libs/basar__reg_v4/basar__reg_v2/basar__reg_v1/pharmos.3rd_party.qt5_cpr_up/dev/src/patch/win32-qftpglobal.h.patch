diff -urN a/src/qftp/qftp.h b/src/qftp/qftp.h
--- a/src/qftp/qftp.h	2014-01-30 11:18:39.000000000 +0100
+++ b/src/qftp/qftp.h	2019-03-22 13:51:47.246368800 +0100
@@ -42,6 +42,8 @@
 #ifndef QFTP_H
 #define QFTP_H
 
+#include "qftpglobal.h"
+
 #include <QtCore/qstring.h>
 #include "qurlinfo.h"
 #include <QtCore/qobject.h>
@@ -50,7 +52,7 @@
 
 class QFtpPrivate;
 
-class QFtp : public QObject
+class Q_FTP_EXPORT QFtp : public QObject
 {
     Q_OBJECT
 
diff -urN a/src/qftp/qftpglobal.h b/src/qftp/qftpglobal.h
--- a/src/qftp/qftpglobal.h	1970-01-01 01:00:00.000000000 +0100
+++ b/src/qftp/qftpglobal.h	2019-03-22 13:54:03.765716900 +0100
@@ -0,0 +1,20 @@
+#ifndef QTFTPGLOBAL_H
+#define QTFTPGLOBAL_H
+
+#include <QtCore/qglobal.h>
+
+QT_BEGIN_NAMESPACE
+
+#ifndef QT_STATIC
+#  if defined(QT_BUILD_FTP_LIB)
+#    define Q_FTP_EXPORT Q_DECL_EXPORT
+#  else
+#    define Q_FTP_EXPORT Q_DECL_IMPORT
+#  endif
+#else
+#  define Q_FTP_EXPORT
+#endif
+
+QT_END_NAMESPACE
+
+#endif // QTFTPGLOBAL_H
diff -urN a/src/qftp/qurlinfo.h b/src/qftp/qurlinfo.h
--- a/src/qftp/qurlinfo.h	2014-01-30 11:18:39.000000000 +0100
+++ b/src/qftp/qurlinfo.h	2019-03-22 13:52:10.548196900 +0100
@@ -42,6 +42,8 @@
 #ifndef QURLINFO_H
 #define QURLINFO_H
 
+#include "qftpglobal.h"
+
 #include <QtCore/qdatetime.h>
 #include <QtCore/qstring.h>
 #include <QtCore/qiodevice.h>
@@ -54,7 +56,7 @@
 class QUrl;
 class QUrlInfoPrivate;
 
-class QUrlInfo
+class Q_FTP_EXPORT QUrlInfo
 {
 public:
     enum PermissionSpec {

